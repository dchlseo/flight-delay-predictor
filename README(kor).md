# 항공편 지연 예측기 (Flight Delay Predictor)
<div align="center">
    <img width="369" alt="img" src="https://github.com/ing970/flight-delay-predictor/assets/70427747/73555579-1bad-4cc7-b540-25e261606456">
</div>
프로젝트 원문(영어) 버전 링크: https://github.com/dchlseo/flight-delay-predictor/blob/main/README.md

## 0. 프로젝트 요약 (Project Summary)
- 미국 국내 항공편 지연 문제로 인한 불편함과 경제적 영향을 완화하기 위한 머신러닝 예측 모델 개발을 목표로 한다. 이를 통해 항공사의 운영 효율성을 향상시키고 승객들의 여행 경험을 개선하는 데 기여할 수 있을 것으로 기대한다.
- 이 프로젝트는 미국 내 항공편 지연을 예측하기 위해 설계된 Streamlit 웹 애플리케이션을 포함하며, XGBoost 모델을 사용한다.
- 애플리케이션은 사용자 친화적이며 온라인에서 접근 가능하며, 데이터 전처리, 탐색적 데이터 분석, 모델링 단계가 별도의 Jupyter 노트북에 문서화되어 있다.
- Streamlit 애플리케이션 프로토타입: https://flight-delay-predictor.streamlit.app/

## 1. 비즈니스 문제/개념설계: 미국 내 국내 항공편 지연 문제 완화

### 배경 및 동기 (Background and Motivation)

**경제적 및 운영 상의 영향**: 항공편 지연은 항공 산업에 있어 운영 효율성과 경제적 비용 측면에서 중대한 도전이다. 지연은 항공사의 일정을 방해하고 운영 비용을 증가시킬 뿐만 아니라 항공사의 부가 서비스에도 영향을 미친다. 지연의 파급 효과는 항공사와 관련 사업체에 상당한 재정적 손실을 초래할 수 있다.

**고객 만족도 및 충성도**: 항공편 지연은 고객의 주요한 서비스 불만의 원인이다. 장시간의 대기, 연결편 놓침, 여행 계획의 혼란은 유저 경험에 상당한 악영향을 미친다. 이러한 불만은 매우 경쟁적인 시장에서 고객의 충성도와 선호도 감소로 이어질 수 있다.

**예측 분석을 통한 문제해결**: 데이터 기반 의사결정이 중요한 시대에, 항공편 지연을 예측하는 모델을 활용하는 것은 필수적이다. 지연을 정확히 예측함으로써 항공사는 일정을 선제적으로 관리하고, 자원을 보다 효율적으로 할당하며, 승객에게 사전에 정보를 제공함으로써 운영 효율성과 고객 만족도를 향상시킬 수 있다.

**전략적 의사결정**: 항공편 지연의 패턴과 원인을 이해하는 것은 항공사와 공항 당국이 전략적 결정을 내리는 데 도움이 될 수 있다. 이에는 항공편 일정 최적화, 회전율 개선, 전반적인 공항 운영 향상 등이 포함된다.

**규제 준수**: 항공사는 종종 정시 운항 성과와 소비자 보고와 관련된 규제 요건을 준수해야 한다. 예측 모델은 더 나은 규제 관리를 지원하고 벌금 등의 리스크를 줄이는 데 도움이 될 수 있다.

**데이터 기반 경쟁 우위**: 경쟁이 치열한 업계에서 항공편 지연을 효과적으로 관리하고 완화할 수 있는 항공사는 상당한 경쟁 우위를 얻을 수 있다. 이 우위는 운영 비용 절감뿐만 아니라 브랜드 명성과 고객 충성도 향상 측면에서도 나타난다.

### 프로젝트 동기 (Project Motivation)

이 프로젝트는 항공 지연으로 나타나는 다면적인 문제를 해결하기 위해 높은 효율성과 정확성을 자랑하는 XGBoost 기계학습 알고리즘을 사용하여 견고한 예측 모델을 개발하는 것을 목표로 한다. 이 모델을 사용자 친화적인 Streamlit 웹 애플리케이션에 통합함으로써, 프로젝트는 항공사, 공항 당국, 심지어 승객들에게도 항공편 지연에 대한 실시간 통찰력과 예측을 제공하는 실용적인 도구를 제공하는 것을 목표로 한다. 이 도구는 운영 효율성과 고객 경험을 향상시킬 뿐만 아니라 항공 산업에서 전략적 계획 및 의사결정을 위한 소중한 자산으로 활용될 수 있다.

## 2. 솔루션 전략

1. **데이터 확보**:
   - 프로젝트는 DACON에서 제공하는 대규모 데이터셋을 활용했다. 이 데이터셋은 미국 내 국내 항공편 역사에 대한 연간 기록 약 100만 행을 포함하고 있으며, 출발 및 도착 정보(주, 공항 코드, 비행 거리, 예상 출발 시간 [EDT], 예상 도착 시간 [EAT])와 항공사 정보(항공사 코드, 항공기 꼬리 번호) 등의 데이터가 포함되어 있다.
   - 데이터 링크: https://dacon.io/competitions/official/236094/overview/description

2. **전처리**:
   - 데이터셋에는 EDT, EAT, 출발 주, 도착 주, 항공사, 운송업체 ID 등의 섹션에서 상당한 양의 누락된 데이터가 있었다.
   - 누락된 EDT 및 EAT의 경우, 출발 공항에서 도착 공항까지의 평균 비행 시간을 계산하여 누락된 값을 추론하는 데 사용했다.
   - 누락된 출발 주 및 도착 주 값은 주:공항 딕셔너리를 생성하여 채웠다.
   - 항공사 값과 운송업체 ID는 항공사:id 딕셔너리를 사용하여 상호 참조(cross-reference)했다.
   - 데이터셋에는 불균형한 레이블(0: 지연 없음, 1: 지연)이 있어, 레이블 분포를 균형있게 하기 위해 과소표집법을 수행했다.

3. **탐색적 데이터 분석 (Exploratory Data Analysis)**:
   - 이 단계에서는 높은 항공편 빈도수나 지연 비율을 가진 시기를 식별하고 시간 기반 패턴을 조사하는 등의 트렌드를 시각화하는 작업을 포함했다.
   - 항공사와 주별로 어떤 곳이 더 높은 항공편 지연 비율을 가지고 있는지 분석했다.

4. **특성 공학 (Feature Engineering)**:
   - EDA에서 얻은 통찰력을 바탕으로, 원자료에서 시간대, 계절, 주 지역과 같은 새로운 특성을 생성하여 모델의 예측력을 강화했다.

5. **머신러닝을 위한 데이터 준비**:
   - 수치 값은 정규화되었고, 범주형 변수는 레이블 인코딩(label encoding)되어 머신 러닝 모델링을 위한 데이터셋을 준비했다.

6. **머신러닝 모델링**:
   - 사용된 모델에는 랜덤 포레스트(Random Forest), XGBoost, LightGBM이 포함되었다.
   - XGBoost와 LightGBM은 테스트된 모델 중 가장 좋은 성능을 보였다.

7. **하이퍼파라미터 튜닝 (Hyperparameter Tuning)**:
   - 이 단계에서는 기본 모델을 세밀하게 조정하여 성능과 정확도를 향상시켰다.

8. **모델 선택**:
   - 애플리케이션에 가장 적합한 모델로 XGBoost가 선택되었으며, 약 60-65%의 정확도를 달성했다.

9. **모델 프로토타입 배포**:
   - Streamlit을 사용하여 XGBoost 모델을 배포하여 비행 지연의 실시간 예측을 위해 사용하였다.
   - 모델의 효과를 테스트하기 위해 모델의 훈련 및 검증에 사용되지 않은 신규 데이터를 사용하였다.
   - 거짓 긍정(1종 오류; false-positive)의 비율을 줄이고 모델의 정밀도를 향상시키기 위해 결정 임계값을 보수적으로 조정하여 모델의 특이성(specificity)을 높였다.

이러한 단계를
